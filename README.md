I created a simple system for learning, it has a server and clients. 

the client will run the user machine system, the system will manage the users and can change the IP that the user will connect to via RDP remotely. Once you can configure the user's RDP method and how they will connect, a small port test is performed to see if the firewall port is open or closed, eliminating possible errors before connection.
